@import "tailwindcss";
@import "../../node_modules/@stagewise/stage-ui/src/style.css";
@import "../../assets/fonts/Geist/geist.css";
@import "../../assets/fonts/GeistMono/geist-mono.css";

@source "../../node_modules/@stagewise/stage-ui";
@source "../../node_modules/streamdown/dist/index.js";
@source "../ui";

@plugin 'tailwind-scrollbar';

:root {
  background-color: transparent;
  color-scheme: normal;
  font-feature-settings: 'liga' 1, 'calt' 1;
}

body {
  display: block;
  background-color: transparent;
  width: 100vw;
  height: 100vh;
  margin: 0;
  padding: 0;
  -webkit-app-region: no-drag;
  app-region: no-drag;
  user-select: none;
}

@utility app-drag {
  -webkit-app-region: drag !important;
  app-region: drag !important;
  user-select: none !important;
}

@utility app-no-drag {
  -webkit-app-region: no-drag !important;
  app-region: no-drag !important;
}

@utility non-interactive {
  -electron-interaction: passthrough;
}

.root {
  isolation: isolate;
}

.markdown {
  a {
    @apply text-blue-600 hover:text-blue-700;
  }

  ul {
    @apply list-disc;
    @apply ml-4;
  }

  ol {
    @apply list-decimal;
    @apply ml-4;
  }
}

/* Custom animations for chat box states */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
  20%, 40%, 60%, 80% { transform: translateX(2px); }
}

@keyframes gradient-animation {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@layer base {
  * {
    min-height: 0;
    min-width: 0;
    position: relative;
  }
}

@layer utilities {
  .animate-shake {
    animation: shake 0.5s ease-in-out 2;
  }
}

@layer components {
  /* Chat box loading gradient border */
  .chat-loading-gradient {
    background: linear-gradient(rgb(248 250 252 / 0.8), rgb(248 250 252 / 0.8)) padding-box,
                linear-gradient(45deg, #8b5cf6, #06b6d4, #8b5cf6) border-box;
    background-size: auto, 400% 400%;
    animation: gradient-animation 2s ease infinite;
    border: 2px solid transparent;
  }

  /* Success and error animations */
  .chat-success-border {
    animation: blink-green-fade 2s ease-out;
  }

  .chat-error-border {
    animation: blink-red-fade 1s ease-out;
  }

  @keyframes blink-green-fade {
    0%, 50% {
      box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.7);
    }
    100% {
      box-shadow: 0 0 0 2px rgba(34, 197, 94, 0);
    }
  }

  @keyframes blink-red-fade {
    0%, 50% {
      box-shadow: 0 0 0 2px rgba(239, 68, 68, 1);
    }
    100% {
      box-shadow: 0 0 0 2px rgba(239, 68, 68, 0);
    }
  }

  /* Gradient Background Chat Styles */
  /* Register color and opacity properties to make them transitionable */
  @property --chat-grad-bg-bg-color { syntax: '<color>'; inherits: true; initial-value: #0d253f; }
  @property --chat-grad-bg-c1 { syntax: '<color>'; inherits: true; initial-value: #1e40af; }
  @property --chat-grad-bg-c2 { syntax: '<color>'; inherits: true; initial-value: #2563eb; }
  @property --chat-grad-bg-c3 { syntax: '<color>'; inherits: true; initial-value: #3b82f6; }
  @property --chat-grad-bg-c4 { syntax: '<color>'; inherits: true; initial-value: #60a5fa; }
  @property --chat-grad-bg-opacity-slow { syntax: '<number>'; inherits: true; initial-value: 1; }
  @property --chat-grad-bg-opacity-medium { syntax: '<number>'; inherits: true; initial-value: 0; }
  @property --chat-grad-bg-opacity-fast { syntax: '<number>'; inherits: true; initial-value: 0; }
  @property --chat-grad-bg-overall-opacity { syntax: '<number>'; inherits: true; initial-value: 1; }

  @keyframes chat-grad-bg-move {
    0% { transform: translate(0, 0); }
    20% { transform: translate(15vw, -10vh) scale(1.1); }
    40% { transform: translate(-10vw, 15vh) scale(0.9); }
    60% { transform: translate(10vw, 10vh) scale(1.2); }
    80% { transform: translate(5vw, -15vh) scale(1); }
    100% { transform: translate(0, 0); }
  }

  .shape-anim {
    animation-name: chat-grad-bg-move;
    animation-timing-function: ease-in-out;
    animation-iteration-count: infinite;
    transition: fill 1s ease-in-out;
  }

  /* Apply opacity transitions to each group */
  .g-slow { opacity: var(--chat-grad-bg-opacity-slow); transition: opacity 1s ease-in-out; }
  .g-medium { opacity: var(--chat-grad-bg-opacity-medium); transition: opacity 1s ease-in-out; }
  .g-fast { opacity: var(--chat-grad-bg-opacity-fast); transition: opacity 1s ease-in-out; }
}
 

@theme default {
  --font-sans: stagewise-builtin-geist, -apple-system,
  BlinkMacSystemFont, "Segoe UI", Roboto, "SF Compact", "SF Pro",
  "Helvetica Neue", sans-serif;
  --font-mono: "Menlo", stagewise-builtin-geist-mono, "SF Mono", "SF Pro Mono",
  "Monaco", "Inconsolata", "Fira Mono", "Droid Sans Mono",
  "Consolas", "Roboto Mono", "Oxygen Mono", "Ubuntu Mono", "Liberation Mono",
  "DejaVu Sans Mono", "Courier New", monospace;
  
  --text-2xs: 0.625rem;
  
  --shadow-glass: var(--shadow-lg), 0px -48px 48px -48px rgba(0, 0, 0, 0.05) inset, 0 5px 42px -5px rgba(255, 255, 255, 0.25) inset;
  --ease-spring: linear(0.00, -0.00946, 0.0219, 0.0793, 0.152, 0.237, 0.326, 0.419, 0.509, 0.597, 0.680, 0.755, 0.823, 0.882, 0.933, 0.976, 1.01, 1.04, 1.06, 1.07, 1.08, 1.09, 1.09, 1.09, 1.09, 1.08, 1.07, 1.07, 1.06, 1.05, 1.04, 1.03, 1.03, 1.02, 1.01, 1.01, 1.00, 1.00, 0.998, 0.996, 0.994, 0.993, 0.992, 0.992, 0.992, 0.992, 0.992, 0.993, 0.994, 0.994, 0.995, 0.996, 0.997, 0.997, 0.998, 0.998, 0.999, 0.999, 1.00);
  --ease-spring-soft: linear(0.00, -0.0531, 0.117, 0.293, 0.460, 0.610, 0.738, 0.838, 0.913, 0.965, 1.00, 1.02, 1.03, 1.03, 1.03, 1.03, 1.03, 1.02, 1.01, 1.01, 1.01, 1.00, 1.00, 1.00, 1.00);
  --gradient: url('data:image/png;base64,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Lkj8yHXZ5TfOBYf9PFMw0sl5YoFYLLSx3MasaKjE08RhRdUo359xWeG8xVktV1nznvyFoZy2kuI6zWHEsIQ4EhAho4oSyrAQoVUjxUSS9qMe/iHHnyCXTK4SGDkWUIEKyfGD/8Hvbs381KSbFIoCnS+2/TEKBHeBRs22v49tu3ECBJ6BK63lr9SB2U/Say0tfAT0bwMX1y1N3gMud4DBJ10yJEcK0PTn88D7GX1TFhi4BbrX3N6a+zh9ANLU1fINcHAIjBUoe93j3V3tvf17ptnfD1oXcp3/D10UAAAN92lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAtRXhpdjIiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6R0lNUD0iaHR0cDovL3d3dy5naW1wLm9yZy94bXAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDozYmQzMGE4My01MzllLTQ4MzYtODM3NC02NDJjZmYwYjMwYTEiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZDYyMDQ1MTEtZDhhZS00ZWEzLTk4N2QtODcwZmI3ODRlM2ZmIgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZWNmN2VkZGUtY2IyYy00MjY1LWExNTUtOTBlNWJmOTk2MGIxIgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iV2luZG93cyIKICAgR0lNUDpUaW1lU3RhbXA9IjE3MTE5MTU5MTA3NTc3NjAiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yNCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiY2M3MDgxNi1jYjIzLTQxNDItYjg0Yy1lNWMzODhiOGM3ODIiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoV2luZG93cykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjQtMDMtMjZUMTA6MTk6MzYiLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZThjNGJjZjEtYmQ4Ni00YjVkLTg5MzktOGJmNzBlY2MyZGZkIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKFdpbmRvd3MpIgogICAgICBzdEV2dDp3aGVuPSIyMDI0LTAzLTMxVDIyOjExOjUwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PlE6FucAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfoAx8UCzJJFY2xAAAFJUlEQVRYw3WW0ZbbNgxEL0iQlJymzS/1/5/6JU16dmNbEok+EKJpNZUPjrRaSTMYDAEKf/5lhABNwAx2g+OAxwYfT/h4wI8HPB7AHdiBAzBAPCIQPIR+NH/uAJ4edz8//LyjIB1cxL9p/d1GJ3QYHOeNOn3UHEj8/pWATc+f79pEvD+vtPMdg2ZQDVrroHuDvUKrU+aHX9eJQLjESaBdSFxVayi1MY5mUB14qx4HtGMisE3X53GWIE4AswrtknkcaihbBXEZqgM/dnju/byf4LuDn1H/I+fr49dSMIHyRkS5b73+SK/3dnTwn1uPurlhtksZ5qyaA3BRYCZngF48UVE+7iDB1bJe8/sBP5+wb8Otr9ofk6wziE0ZhktZ5qNNUVH+uTNWghlsrStQ92m5bBfw2c1caps80/McLurYZNCG8v2zK4B0E7Y2ZTuD71PWXOquCIpQMBJGcgJnxHelxKOvgo9fNJDqsf1P41GnED0ygUQgA5lG5qBwDBW0J6kBMhAMooE0FD6mevEmz7vhZBAVhEggoRQSSkLJTqDQyGxkHmTuKKYJbhHWMFXmLAGfTiD+YumcTj+BowMHFiLFCfRfJlAwMpXCRiaTCSnx8bvCl5OAQHqVQeHnRCBMXUqmWgsBQQksBFYiK8oyCGSUjJCdQOZJQUOGr4nn18j+20zAy9AJPFyTOJ15I6VECpGVyG0CX0hDgUgaBA4KmUxcE+1L4vFb5PtJIDsB4SzBfllWMsAjEUVZSawoNyI3v1488kQAEtXNF8nYmthXZV2U7+uFQDhb8Wv0jbUaHLyQWUncPPq1TvJ3+ymJgAKZSmIjETTRSmIriaUoMUdqFijiQo8SyHB4X1JKRlnJI27kQWBxRQqRjJJcJSHRSFS0q6GJPSWKKjkpSw58pmkVRINg6AncP6Oe9RmFlcLNlTgJdPdHsr8VUIRIQ9n9usZIDpEUIzkGlhD4jGHq0E5AvV5lAlwpLBRuLIPMMoEvI/Me4p5p3piMSJZAEiEhJBHKOfCQ1/TF0BuFQmZhfSOwsjiREzy56XRkrgQCASFgRKq35oqwNyGaoAbaILe+9M18x4WBgX5jpfivZ7sMBTp49uV2gqtXuTtGHNQI7IQxmONuxGrEClqNXI3lMO7Rt3rBZ8FXVpf4JFEGpQ6cB3hy6U/wMLXnOu0KAkY4jLgbejTyLpTd+D027sKYA2DoH6xkMmcpCoubLZNHj5vBe94R8exfXaT3T+uamBEfDX0KaROWJ3wVeJrwPfq8MVeguNRl+EEHeBqy944YvS2HAS5Tw27uitaH9IegN6FkWKNxmNAOyNH4pPFsDf3C4pn3pZameqfh9rM14eAyjS0bs7LPyTa2IHGD/AFFjRuGVSEorMH4RmUzJ5Dd5a+s+6TrwPI2K0+Zr4dgXhQh0MbeKP+AKoY1I+xCVthiY7dGbQ3tDjh7el9iycfuuchkVFpoNDff+8A2f+b0R2/MfZtpfxuyNfSLUCLs0ag0jtrQMkmd3eE989dwFocy3xu0aW7YRKaXwFyphgIFQwjop1B+wiZwOIHWGqoOqGNF94/0rBrNBZehRHP7yeQE8Te7AmnSp4+2xo5wGGSDo7VOgIaGUTfxnYB5DjZl+lJCEKqDyyAhw4q9FRvqNLsf+pb1cB0P7EXgZSMbvza23kwUzAFOlcI4y9hPBqB6AZv/7+WL6ATUCVQqei6k5gazIbj53/i9V52jb0q7Uc3rHt72kr1PNBTxHYf5HbxPdMR/Af2SQINNgRTNAAAAAElFTkSuQmCC');

  --animate-chat-bubble-appear: chat-bubble-appear 300ms var(--ease-spring-soft);
  --animate-spin-slow: spin 1500ms linear infinite;
  --animate-spin-fast: spin 500ms linear infinite;
  --animate-thinking-part-brain-pulse: thinking-part-brain-pulse 750ms linear infinite alternate;
  --animate-agent-working-pulse: agent-working-pulse 1500ms ease-in-out infinite;

  @keyframes chat-bubble-appear {
    0% {
      filter: blur(4px);
      transform: scale(0.5) translate3d(0px,16px,0px);
      opacity: 0;
    }
    
    100% {
      filter: blur(0px);
      transform: scale(1) translate3d(0px,0px,0px);
      opacity: 1;
    }
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }

    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes thinking-part-brain-pulse {
    0% {
      stroke-width: 2.5px;
    }
    100% {
      stroke-width: 1.5px;
    }
  }

  @keyframes agent-working-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

}

@utility code-block-diff-add {
  @apply bg-success-foreground-dark/23 dark:bg-success-foreground/30;
}

@utility code-block-diff-remove {
  @apply bg-error-foreground-dark/23 dark:bg-error-foreground/30;
}

/* Edge-top collapsed lines (before first diff) - hidden */
@utility code-line-collapsed-edge-top {
  @apply hidden;
}

/* Edge-bottom collapsed lines (after last diff) - hidden */
@utility code-line-collapsed-edge-bottom {
  @apply hidden;
}

/* Middle collapsed lines (between diffs) - divider with centered count */
@utility code-line-collapsed-middle {
  @apply hidden;
  &[data-hidden-count] {
    @apply flex items-center gap-2 my-3 text-muted-foreground/50 text-[10px];
    &::before, &::after {
      @apply flex-1 h-px bg-muted-foreground/20 content-[""];
    }
  }
}

@utility line-numbers-container {
  /* @apply bg-muted-foreground/5 pl-2 pr-1 flex flex-col items-end text-muted-foreground shrink-0; */
  @apply hidden;
}

/* Line number variants for collapsed lines */
@utility code-line-number-collapsed-edge-top {
  @apply hidden;
}

@utility code-line-number-collapsed-edge-bottom {
  @apply hidden;
}

@utility code-line-number-collapsed-middle {
  @apply block size-0 select-none invisible;
  &:has(+ :not(.code-line-number-collapsed-middle)) {
    @apply my-3;
  }
}

@property --shimmer-blur {
  syntax: '<length>';
  inherits: false;
  initial-value: 0px;
}

/* Text animations */
@utility shimmer-text {
  background-image: linear-gradient(
    120deg,
    var(--shimmer-color-1) 0%,
    var(--shimmer-color-1) 40%,
    var(--shimmer-color-2) 50%,
    var(--shimmer-color-1) 60%,
    var(--shimmer-color-1) 100%
  );
  background-size: 240% 100%;
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;
  animation: shimmer-move calc(var(--shimmer-duration) * 1ms) linear infinite;
}

@keyframes shimmer-move {
  0% {
    background-position: 140% 0%;
  }
  100% {
    background-position: -40% 0%;
  }
}

/* One-shot shimmer that settles to normal text color */
@utility shimmer-text-once {
  background-image: linear-gradient(
    120deg,
    var(--shimmer-color-1) 0%,
    var(--shimmer-color-1) 40%,
    var(--shimmer-color-2) 50%,
    var(--shimmer-color-1) 60%,
    var(--shimmer-color-1) 100%
  );
  background-size: 240% 100%;
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;
  animation: shimmer-once calc(var(--shimmer-duration, 1500) * 1ms) linear forwards;
}

@keyframes shimmer-once {
  0% {
    /* Start with shimmer highlight already entering visible area */
    background-position: 100% 0%;
  }
  75% {
    background-position: -40% 0%;
  }
  100% {
    background-position: -40% 0%;
    color: var(--color-muted-foreground);
    -webkit-text-fill-color: var(--color-muted-foreground);
    background-image: none;
  }
}

@utility shimmer-duration-* {
  --shimmer-duration: --value(integer);
}

@utility shimmer-from-* {
  --shimmer-color-1: --value(--color-*);
}

@utility shimmer-to-* {
  --shimmer-color-2: --value(--color-*);
}

/* Scrollbar utilities */
@utility scrollbar-subtle {
  scrollbar-width: thin;
  scrollbar-color: var(--color-surface-2) transparent;
}

@utility scrollbar-hover-only {
  scrollbar-width: thin;
  scrollbar-color: transparent transparent;
  &:hover {
    scrollbar-color: var(--color-surface-2) transparent;
  }
}

@utility scrollbar-visible {
  @apply scrollbar-thin scrollbar-thumb-foreground/20 scrollbar-track-muted-foreground/10;
}

/* Streamdown table wrapper - subtle scrollbar for markdown tables */
[data-streamdown="table-wrapper"] {
  @apply scrollbar-thin scrollbar-thumb-foreground/15 scrollbar-track-transparent;
}