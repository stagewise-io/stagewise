diff --git a/dist/components/menu/menu.js b/dist/components/menu/menu.js
index f540d491429a03a4863afcf1eec48c17d65af2d4..5903f40dda5a57bcf5fda187ea8678d40f306cee 100644
--- a/dist/components/menu/menu.js
+++ b/dist/components/menu/menu.js
@@ -1 +1 @@
-"use client";import{useFocusRing as me}from"@react-aria/focus";import{useHover as Te}from"@react-aria/interactions";import h,{Fragment as Y,useCallback as fe,useEffect as ce,useMemo as B,useRef as V,useState as ye}from"react";import{flushSync as X}from"react-dom";import{useActivePress as Ee}from'../../hooks/use-active-press.js';import{useDidElementMove as Pe}from'../../hooks/use-did-element-move.js';import{useDisposables as ge}from'../../hooks/use-disposables.js';import{useElementSize as Me}from'../../hooks/use-element-size.js';import{useEvent as y}from'../../hooks/use-event.js';import{useId as w}from'../../hooks/use-id.js';import{useInertOthers as be}from'../../hooks/use-inert-others.js';import{useIsoMorphicEffect as k}from'../../hooks/use-iso-morphic-effect.js';import{useOnDisappear as Ae}from'../../hooks/use-on-disappear.js';import{useOutsideClick as _e}from'../../hooks/use-outside-click.js';import{useOwnerDocument as Z}from'../../hooks/use-owner.js';import{useResolveButtonType as Ie}from'../../hooks/use-resolve-button-type.js';import{useScrollLock as Se}from'../../hooks/use-scroll-lock.js';import{useSyncRefs as K}from'../../hooks/use-sync-refs.js';import{useTextValue as De}from'../../hooks/use-text-value.js';import{useTrackedPointer as Re}from'../../hooks/use-tracked-pointer.js';import{transitionDataAttributes as Fe,useTransition as xe}from'../../hooks/use-transition.js';import{useTreeWalker as he}from'../../hooks/use-tree-walker.js';import{FloatingProvider as Ce,useFloatingPanel as ve,useFloatingPanelProps as Le,useFloatingReference as Oe,useFloatingReferenceProps as He,useResolvedAnchor as Ue}from'../../internal/floating.js';import{OpenClosedProvider as Ge,State as W,useOpenClosed as Ne}from'../../internal/open-closed.js';import{useSlice as D}from'../../react-glue.js';import{isDisabledReactIssue7711 as Be}from'../../utils/bugs.js';import{Focus as b}from'../../utils/calculate-active-index.js';import{disposables as we}from'../../utils/disposables.js';import{Focus as ee,FocusableMode as ke,focusFrom as Ke,isFocusableElement as We,restoreFocusIfNecessary as te}from'../../utils/focus-management.js';import{match as Je}from'../../utils/match.js';import{RenderFeatures as oe,forwardRefWithAs as C,mergeProps as ne,useRender as v}from'../../utils/render.js';import{useDescriptions as Ve}from'../description/description.js';import{Keys as d}from'../keyboard.js';import{useLabelContext as Xe,useLabels as re}from'../label/label.js';import{Portal as $e}from'../portal/portal.js';import{ActionTypes as r,ActivationTrigger as $,MenuState as m}from'./menu-machine.js';import{MenuContext as je,useMenuMachine as qe,useMenuMachineContext as j}from'./menu-machine-glue.js';let ze=Y;function Qe(T,E){let{__demoMode:i=!1,...a}=T,n=qe({__demoMode:i}),[s,o,P]=D(n,p=>[p.menuState,p.itemsElement,p.buttonElement]),c=K(E),_=s===m.Open;_e(_,[P,o],(p,F)=>{var A;n.send({type:r.CloseMenu}),We(F,ke.Loose)||(p.preventDefault(),(A=n.state.buttonElement)==null||A.focus())});let t=y(()=>{n.send({type:r.CloseMenu})}),R=B(()=>({open:s===m.Open,close:t}),[s,t]),I={ref:c},g=v();return h.createElement(Ce,null,h.createElement(je.Provider,{value:n},h.createElement(Ge,{value:Je(s,{[m.Open]:W.Open,[m.Closed]:W.Closed})},g({ourProps:I,theirProps:a,slot:R,defaultTag:ze,name:"Menu"}))))}let Ye="button";function Ze(T,E){let i=j("Menu.Button"),a=w(),{id:n=`headlessui-menu-button-${a}`,disabled:s=!1,autoFocus:o=!1,...P}=T,c=V(null),_=He(),t=K(E,c,Oe(),y(l=>i.send({type:r.SetButtonElement,element:l}))),R=y(l=>{switch(l.key){case d.Space:case d.Enter:case d.ArrowDown:l.preventDefault(),l.stopPropagation(),i.send({type:r.OpenMenu,focus:{focus:b.First}});break;case d.ArrowUp:l.preventDefault(),l.stopPropagation(),i.send({type:r.OpenMenu,focus:{focus:b.Last}});break}}),I=y(l=>{switch(l.key){case d.Space:l.preventDefault();break}}),[g,p]=D(i,l=>[l.menuState,l.itemsElement]),F=y(l=>{var H;if(l.button===0){if(Be(l.currentTarget))return l.preventDefault();s||(g===m.Open?(X(()=>i.send({type:r.CloseMenu})),(H=c.current)==null||H.focus({preventScroll:!0})):(l.preventDefault(),i.send({type:r.OpenMenu,focus:{focus:b.Nothing},trigger:$.Pointer})))}}),{isFocusVisible:A,focusProps:f}=me({autoFocus:o}),{isHovered:M,hoverProps:L}=Te({isDisabled:s}),{pressed:S,pressProps:O}=Ee({disabled:s}),x=B(()=>({open:g===m.Open,active:S||g===m.Open,disabled:s,hover:M,focus:A,autofocus:o}),[g,M,A,S,s,o]),U=ne(_(),{ref:t,id:n,type:Ie(T,c.current),"aria-haspopup":"menu","aria-controls":p==null?void 0:p.id,"aria-expanded":g===m.Open,disabled:s||void 0,autoFocus:o,onKeyDown:R,onKeyUp:I,onMouseDown:F},f,L,O);return v()({ourProps:U,theirProps:P,slot:x,defaultTag:Ye,name:"Menu.Button"})}let et="div",tt=oe.RenderStrategy|oe.Static;function ot(T,E){let i=w(),{id:a=`headlessui-menu-items-${i}`,anchor:n,portal:s=!1,modal:o=!0,transition:P=!1,...c}=T,_=Ue(n),t=j("Menu.Items"),[R,I]=ve(_),g=Le(),[p,F]=ye(null),A=K(E,_?R:null,y(e=>t.send({type:r.SetItemsElement,element:e})),F),[f,M]=D(t,e=>[e.menuState,e.buttonElement]),L=Z(M),S=Z(p);_&&(s=!0);let O=Ne(),[x,U]=xe(P,p,O!==null?(O&W.Open)===W.Open:f===m.Open);Ae(x,M,()=>{t.send({type:r.CloseMenu})});let G=D(t,e=>e.__demoMode),l=G?!1:o&&f===m.Open;Se(l,S);let H=G?!1:o&&f===m.Open;be(H,{allowed:fe(()=>[M,p],[M,p])});let u=f!==m.Open,ae=Pe(u,M)?!1:x;ce(()=>{let e=p;e&&f===m.Open&&e!==(S==null?void 0:S.activeElement)&&e.focus({preventScroll:!0})},[f,p,S]),he(f===m.Open,{container:p,accept(e){return e.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute("role","none")}});let q=ge(),se=y(e=>{var N,z,Q;switch(q.dispose(),e.key){case d.Space:if(t.state.searchQuery!=="")return e.preventDefault(),e.stopPropagation(),t.send({type:r.Search,value:e.key});case d.Enter:if(e.preventDefault(),e.stopPropagation(),t.state.activeItemIndex!==null){let{dataRef:de}=t.state.items[t.state.activeItemIndex];(z=(N=de.current)==null?void 0:N.domRef.current)==null||z.click()}t.send({type:r.CloseMenu}),te(t.state.buttonElement);break;case d.ArrowDown:return e.preventDefault(),e.stopPropagation(),t.send({type:r.GoToItem,focus:b.Next});case d.ArrowUp:return e.preventDefault(),e.stopPropagation(),t.send({type:r.GoToItem,focus:b.Previous});case d.Home:case d.PageUp:return e.preventDefault(),e.stopPropagation(),t.send({type:r.GoToItem,focus:b.First});case d.End:case d.PageDown:return e.preventDefault(),e.stopPropagation(),t.send({type:r.GoToItem,focus:b.Last});case d.Escape:e.preventDefault(),e.stopPropagation(),X(()=>t.send({type:r.CloseMenu})),(Q=t.state.buttonElement)==null||Q.focus({preventScroll:!0});break;case d.Tab:e.preventDefault(),e.stopPropagation(),X(()=>t.send({type:r.CloseMenu})),Ke(t.state.buttonElement,e.shiftKey?ee.Previous:ee.Next);break;default:e.key.length===1&&(t.send({type:r.Search,value:e.key}),q.setTimeout(()=>t.send({type:r.ClearSearch}),350));break}}),le=y(e=>{switch(e.key){case d.Space:e.preventDefault();break}}),pe=B(()=>({open:f===m.Open}),[f]),ie=ne(_?g():{},{"aria-activedescendant":D(t,t.selectors.activeDescendantId),"aria-labelledby":D(t,e=>{var N;return(N=e.buttonElement)==null?void 0:N.id}),id:a,onKeyDown:se,onKeyUp:le,role:"menu",tabIndex:f===m.Open?0:void 0,ref:A,style:{...c.style,...I,"--button-width":Me(M,!0).width},...Fe(U)}),ue=v();return h.createElement($e,{enabled:s?T.static||x:!1,ownerDocument:L},ue({ourProps:ie,theirProps:c,slot:pe,defaultTag:et,features:tt,visible:ae,name:"Menu.Items"}))}let nt=Y;function rt(T,E){let i=w(),{id:a=`headlessui-menu-item-${i}`,disabled:n=!1,...s}=T,o=j("Menu.Item"),P=D(o,u=>o.selectors.isActive(u,a)),c=V(null),_=K(E,c),t=D(o,u=>o.selectors.shouldScrollIntoView(u,a));k(()=>{if(t)return we().requestAnimationFrame(()=>{var u,J;(J=(u=c.current)==null?void 0:u.scrollIntoView)==null||J.call(u,{block:"nearest"})})},[t,c]);let R=De(c),I=V({disabled:n,domRef:c,get textValue(){return R()}});k(()=>{I.current.disabled=n},[I,n]),k(()=>(o.actions.registerItem(a,I),()=>o.actions.unregisterItem(a)),[I,a]);let g=y(()=>{o.send({type:r.CloseMenu})}),p=y(u=>{if(n)return u.preventDefault();o.send({type:r.CloseMenu}),te(o.state.buttonElement)}),F=y(()=>{if(n)return o.send({type:r.GoToItem,focus:b.Nothing});o.send({type:r.GoToItem,focus:b.Specific,id:a})}),A=Re(),f=y(u=>{A.update(u),!n&&(P||o.send({type:r.GoToItem,focus:b.Specific,id:a,trigger:$.Pointer}))}),M=y(u=>{A.wasMoved(u)&&(n||P||o.send({type:r.GoToItem,focus:b.Specific,id:a,trigger:$.Pointer}))}),L=y(u=>{A.wasMoved(u)&&(n||P&&o.send({type:r.GoToItem,focus:b.Nothing}))}),[S,O]=re(),[x,U]=Ve(),G=B(()=>({active:P,focus:P,disabled:n,close:g}),[P,n,g]),l={id:a,ref:_,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,"aria-labelledby":S,"aria-describedby":x,disabled:void 0,onClick:p,onFocus:F,onPointerEnter:f,onMouseEnter:f,onPointerMove:M,onMouseMove:M,onPointerLeave:L,onMouseLeave:L},H=v();return h.createElement(O,null,h.createElement(U,null,H({ourProps:l,theirProps:s,slot:G,defaultTag:nt,name:"Menu.Item"})))}let at="div";function st(T,E){let[i,a]=re(),n=T,s={ref:E,"aria-labelledby":i,role:"group"},o=v();return h.createElement(a,null,o({ourProps:s,theirProps:n,slot:{},defaultTag:at,name:"Menu.Section"}))}let lt="header";function pt(T,E){let i=w(),{id:a=`headlessui-menu-heading-${i}`,...n}=T,s=Xe();k(()=>s.register(a),[a,s.register]);let o={id:a,ref:E,role:"presentation",...s.props};return v()({ourProps:o,theirProps:n,slot:{},defaultTag:lt,name:"Menu.Heading"})}let it="div";function ut(T,E){let i=T,a={ref:E,role:"separator"};return v()({ourProps:a,theirProps:i,slot:{},defaultTag:it,name:"Menu.Separator"})}let dt=C(Qe),mt=C(Ze),Tt=C(ot),ft=C(rt),ct=C(st),yt=C(pt),Et=C(ut),to=Object.assign(dt,{Button:mt,Items:Tt,Item:ft,Section:ct,Heading:yt,Separator:Et});export{to as Menu,mt as MenuButton,yt as MenuHeading,ft as MenuItem,Tt as MenuItems,ct as MenuSection,Et as MenuSeparator};
+"use client";import{useFocusRing as me}from"@react-aria/focus";import{useHover as Te}from"@react-aria/interactions";import h,{Fragment as Y,useCallback as fe,useEffect as ce,useMemo as B,useRef as V,useState as ye}from"react";import{flushSync as X}from"react-dom";import{useActivePress as Ee}from'../../hooks/use-active-press.js';import{useDidElementMove as Pe}from'../../hooks/use-did-element-move.js';import{useDisposables as ge}from'../../hooks/use-disposables.js';import{useElementSize as Me}from'../../hooks/use-element-size.js';import{useEvent as y}from'../../hooks/use-event.js';import{useId as w}from'../../hooks/use-id.js';import{useInertOthers as be}from'../../hooks/use-inert-others.js';import{useIsoMorphicEffect as k}from'../../hooks/use-iso-morphic-effect.js';import{useOnDisappear as Ae}from'../../hooks/use-on-disappear.js';import{useOutsideClick as _e}from'../../hooks/use-outside-click.js';import{useOwnerDocument as Z}from'../../hooks/use-owner.js';import{useResolveButtonType as Ie}from'../../hooks/use-resolve-button-type.js';import{useScrollLock as Se}from'../../hooks/use-scroll-lock.js';import{useSyncRefs as K}from'../../hooks/use-sync-refs.js';import{useTextValue as De}from'../../hooks/use-text-value.js';import{useTrackedPointer as Re}from'../../hooks/use-tracked-pointer.js';import{transitionDataAttributes as Fe,useTransition as xe}from'../../hooks/use-transition.js';import{useTreeWalker as he}from'../../hooks/use-tree-walker.js';import{FloatingProvider as Ce,useFloatingPanel as ve,useFloatingPanelProps as Le,useFloatingReference as Oe,useFloatingReferenceProps as He,useResolvedAnchor as Ue}from'../../internal/floating.js';import{OpenClosedProvider as Ge,State as W,useOpenClosed as Ne}from'../../internal/open-closed.js';import{useSlice as D}from'../../react-glue.js';import{isDisabledReactIssue7711 as Be}from'../../utils/bugs.js';import{Focus as b}from'../../utils/calculate-active-index.js';import{disposables as we}from'../../utils/disposables.js';import{Focus as ee,FocusableMode as ke,focusFrom as Ke,isFocusableElement as We,restoreFocusIfNecessary as te}from'../../utils/focus-management.js';import{match as Je}from'../../utils/match.js';import{RenderFeatures as oe,forwardRefWithAs as C,mergeProps as ne,useRender as v}from'../../utils/render.js';import{useDescriptions as Ve}from'../description/description.js';import{Keys as d}from'../keyboard.js';import{useLabelContext as Xe,useLabels as re}from'../label/label.js';import{Portal as $e}from'../portal/portal.js';import{ActionTypes as r,ActivationTrigger as $,MenuState as m}from'./menu-machine.js';import{MenuContext as je,useMenuMachine as qe,useMenuMachineContext as j}from'./menu-machine-glue.js';let ze=Y;function Qe(T,E){let{__demoMode:i=!1,...a}=T,n=qe({__demoMode:i}),[s,o,P]=D(n,p=>[p.menuState,p.itemsElement,p.buttonElement]),c=K(E),_=s===m.Open;_e(_,[P,o],(p,F)=>{var A;n.send({type:r.CloseMenu}),We(F,ke.Loose)||(p.preventDefault(),(A=n.state.buttonElement)==null||A.focus())});let t=y(()=>{n.send({type:r.CloseMenu})}),R=B(()=>({open:s===m.Open,close:t}),[s,t]),I={ref:c},M=v();return h.createElement(Ce,null,h.createElement(je.Provider,{value:n},h.createElement(Ge,{value:Je(s,{[m.Open]:W.Open,[m.Closed]:W.Closed})},M({ourProps:I,theirProps:a,slot:R,defaultTag:ze,name:"Menu"}))))}let Ye="button";function Ze(T,E){let i=j("Menu.Button"),a=w(),{id:n=`headlessui-menu-button-${a}`,disabled:s=!1,autoFocus:o=!1,...P}=T,c=V(null),_=He(),t=K(E,c,Oe(),y(l=>i.send({type:r.SetButtonElement,element:l}))),R=y(l=>{switch(l.key){case d.Space:case d.Enter:case d.ArrowDown:l.preventDefault(),l.stopPropagation(),i.send({type:r.OpenMenu,focus:{focus:b.First}});break;case d.ArrowUp:l.preventDefault(),l.stopPropagation(),i.send({type:r.OpenMenu,focus:{focus:b.Last}});break}}),I=y(l=>{switch(l.key){case d.Space:l.preventDefault();break}}),[M,p]=D(i,l=>[l.menuState,l.itemsElement]),F=y(l=>{var H;if(l.button===0){if(Be(l.currentTarget))return l.preventDefault();s||(M===m.Open?(X(()=>i.send({type:r.CloseMenu})),(H=c.current)==null||H.focus({preventScroll:!0})):(l.preventDefault(),i.send({type:r.OpenMenu,focus:{focus:b.Nothing},trigger:$.Pointer})))}}),{isFocusVisible:A,focusProps:f}=me({autoFocus:o}),{isHovered:g,hoverProps:L}=Te({isDisabled:s}),{pressed:S,pressProps:O}=Ee({disabled:s}),x=B(()=>({open:M===m.Open,active:S||M===m.Open,disabled:s,hover:g,focus:A,autofocus:o}),[M,g,A,S,s,o]),U=ne(_(),{ref:t,id:n,type:Ie(T,c.current),"aria-haspopup":"menu","aria-controls":p==null?void 0:p.id,"aria-expanded":M===m.Open,disabled:s||void 0,autoFocus:o,onKeyDown:R,onKeyUp:I,onMouseDown:F},f,L,O);return v()({ourProps:U,theirProps:P,slot:x,defaultTag:Ye,name:"Menu.Button"})}let et="div",tt=oe.RenderStrategy|oe.Static;function ot(T,E){let i=w(),{id:a=`headlessui-menu-items-${i}`,anchor:n,portal:s=!1,modal:o=!0,transition:P=!1,...c}=T,_=Ue(n),t=j("Menu.Items"),[R,I]=ve(_),M=Le(),[p,F]=ye(null),A=K(E,_?R:null,y(e=>t.send({type:r.SetItemsElement,element:e})),F),[f,g]=D(t,e=>[e.menuState,e.buttonElement]),L=Z(g),S=Z(p);_&&(s=!0);let O=Ne(),[x,U]=xe(P,p,O!==null?(O&W.Open)===W.Open:f===m.Open);Ae(x,g,()=>{t.send({type:r.CloseMenu})});let G=D(t,e=>e.__demoMode),l=G?!1:o&&f===m.Open;Se(l,S);let H=G?!1:o&&f===m.Open;be(H,{allowed:fe(()=>[g,p],[g,p])});let u=f!==m.Open,ae=Pe(u,g)?!1:x;ce(()=>{let e=p;e&&f===m.Open&&e!==(S==null?void 0:S.activeElement)&&e.focus({preventScroll:!0})},[f,p,S]),he(f===m.Open,{container:p,accept(e){return e.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute("role","none")}});let q=ge(),se=y(e=>{var N,z,Q;switch(q.dispose(),e.key){case d.Space:if(t.state.searchQuery!=="")return e.preventDefault(),e.stopPropagation(),t.send({type:r.Search,value:e.key});case d.Enter:if(e.preventDefault(),e.stopPropagation(),t.state.activeItemIndex!==null){let{dataRef:de}=t.state.items[t.state.activeItemIndex];(z=(N=de.current)==null?void 0:N.domRef.current)==null||z.click()}t.send({type:r.CloseMenu}),te(t.state.buttonElement);break;case d.ArrowDown:return e.preventDefault(),e.stopPropagation(),t.send({type:r.GoToItem,focus:b.Next});case d.ArrowUp:return e.preventDefault(),e.stopPropagation(),t.send({type:r.GoToItem,focus:b.Previous});case d.Home:case d.PageUp:return e.preventDefault(),e.stopPropagation(),t.send({type:r.GoToItem,focus:b.First});case d.End:case d.PageDown:return e.preventDefault(),e.stopPropagation(),t.send({type:r.GoToItem,focus:b.Last});case d.Escape:e.preventDefault(),e.stopPropagation(),X(()=>t.send({type:r.CloseMenu})),(Q=t.state.buttonElement)==null||Q.focus({preventScroll:!0});break;case d.Tab:e.preventDefault(),e.stopPropagation(),X(()=>t.send({type:r.CloseMenu})),Ke(t.state.buttonElement,e.shiftKey?ee.Previous:ee.Next);break;default:e.key.length===1&&(t.send({type:r.Search,value:e.key}),q.setTimeout(()=>t.send({type:r.ClearSearch}),350));break}}),le=y(e=>{switch(e.key){case d.Space:e.preventDefault();break}}),pe=B(()=>({open:f===m.Open}),[f]),ie=ne(_?M():{},{"aria-activedescendant":D(t,t.selectors.activeDescendantId),"aria-labelledby":D(t,e=>{var N;return(N=e.buttonElement)==null?void 0:N.id}),id:a,onKeyDown:se,onKeyUp:le,role:"menu",tabIndex:f===m.Open?0:void 0,ref:A,style:{...c.style,...I,"--button-width":Me(g,!0).width},...Fe(U)}),ue=v();return h.createElement($e,{enabled:s?T.static||x:!1,ownerDocument:L,refElement:g},ue({ourProps:ie,theirProps:c,slot:pe,defaultTag:et,features:tt,visible:ae,name:"Menu.Items"}))}let nt=Y;function rt(T,E){let i=w(),{id:a=`headlessui-menu-item-${i}`,disabled:n=!1,...s}=T,o=j("Menu.Item"),P=D(o,u=>o.selectors.isActive(u,a)),c=V(null),_=K(E,c),t=D(o,u=>o.selectors.shouldScrollIntoView(u,a));k(()=>{if(t)return we().requestAnimationFrame(()=>{var u,J;(J=(u=c.current)==null?void 0:u.scrollIntoView)==null||J.call(u,{block:"nearest"})})},[t,c]);let R=De(c),I=V({disabled:n,domRef:c,get textValue(){return R()}});k(()=>{I.current.disabled=n},[I,n]),k(()=>(o.actions.registerItem(a,I),()=>o.actions.unregisterItem(a)),[I,a]);let M=y(()=>{o.send({type:r.CloseMenu})}),p=y(u=>{if(n)return u.preventDefault();o.send({type:r.CloseMenu}),te(o.state.buttonElement)}),F=y(()=>{if(n)return o.send({type:r.GoToItem,focus:b.Nothing});o.send({type:r.GoToItem,focus:b.Specific,id:a})}),A=Re(),f=y(u=>{A.update(u),!n&&(P||o.send({type:r.GoToItem,focus:b.Specific,id:a,trigger:$.Pointer}))}),g=y(u=>{A.wasMoved(u)&&(n||P||o.send({type:r.GoToItem,focus:b.Specific,id:a,trigger:$.Pointer}))}),L=y(u=>{A.wasMoved(u)&&(n||P&&o.send({type:r.GoToItem,focus:b.Nothing}))}),[S,O]=re(),[x,U]=Ve(),G=B(()=>({active:P,focus:P,disabled:n,close:M}),[P,n,M]),l={id:a,ref:_,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,"aria-labelledby":S,"aria-describedby":x,disabled:void 0,onClick:p,onFocus:F,onPointerEnter:f,onMouseEnter:f,onPointerMove:g,onMouseMove:g,onPointerLeave:L,onMouseLeave:L},H=v();return h.createElement(O,null,h.createElement(U,null,H({ourProps:l,theirProps:s,slot:G,defaultTag:nt,name:"Menu.Item"})))}let at="div";function st(T,E){let[i,a]=re(),n=T,s={ref:E,"aria-labelledby":i,role:"group"},o=v();return h.createElement(a,null,o({ourProps:s,theirProps:n,slot:{},defaultTag:at,name:"Menu.Section"}))}let lt="header";function pt(T,E){let i=w(),{id:a=`headlessui-menu-heading-${i}`,...n}=T,s=Xe();k(()=>s.register(a),[a,s.register]);let o={id:a,ref:E,role:"presentation",...s.props};return v()({ourProps:o,theirProps:n,slot:{},defaultTag:lt,name:"Menu.Heading"})}let it="div";function ut(T,E){let i=T,a={ref:E,role:"separator"};return v()({ourProps:a,theirProps:i,slot:{},defaultTag:it,name:"Menu.Separator"})}let dt=C(Qe),mt=C(Ze),Tt=C(ot),ft=C(rt),ct=C(st),yt=C(pt),Et=C(ut),to=Object.assign(dt,{Button:mt,Items:Tt,Item:ft,Section:ct,Heading:yt,Separator:Et});export{to as Menu,mt as MenuButton,yt as MenuHeading,ft as MenuItem,Tt as MenuItems,ct as MenuSection,Et as MenuSeparator};
diff --git a/dist/components/portal/portal.d.ts b/dist/components/portal/portal.d.ts
index fdab6f5bfca227aec3e735744e3219d9a8e44006..00dc632954cc2b4a4f548ac737d11b6786eaf0a4 100644
--- a/dist/components/portal/portal.d.ts
+++ b/dist/components/portal/portal.d.ts
@@ -9,6 +9,7 @@ type PortalPropsWeControl = never;
 export type PortalProps<TTag extends ElementType = typeof DEFAULT_PORTAL_TAG> = Props<TTag, PortalRenderPropArg, PortalPropsWeControl, {
     enabled?: boolean;
     ownerDocument?: Document | null;
+    refElement?: Element | null;
 }>;
 declare function PortalFn<TTag extends ElementType = typeof DEFAULT_PORTAL_TAG>(props: PortalProps<TTag>, ref: Ref<HTMLElement>): React.JSX.Element | null;
 declare let DEFAULT_GROUP_TAG: React.ExoticComponent<{
diff --git a/dist/components/portal/portal.js b/dist/components/portal/portal.js
index 8ef75d426d191e6e67f331d34e27629344ed97f6..64086312a75ef7b822adbe0689b5de5dba0c2003 100644
--- a/dist/components/portal/portal.js
+++ b/dist/components/portal/portal.js
@@ -1 +1 @@
-"use client";import T,{Fragment as E,createContext as A,useContext as d,useEffect as G,useMemo as x,useRef as L,useState as c}from"react";import{createPortal as O}from"react-dom";import{useEvent as _}from'../../hooks/use-event.js';import{useIsoMorphicEffect as C}from'../../hooks/use-iso-morphic-effect.js';import{useOnUnmount as F}from'../../hooks/use-on-unmount.js';import{useOwnerDocument as U}from'../../hooks/use-owner.js';import{useServerHandoffComplete as N}from'../../hooks/use-server-handoff-complete.js';import{optionalRef as S,useSyncRefs as m}from'../../hooks/use-sync-refs.js';import{usePortalRoot as W}from'../../internal/portal-force-root.js';import{env as v}from'../../utils/env.js';import{forwardRefWithAs as y,useRender as R}from'../../utils/render.js';function j(e){let l=W(),o=d(H),[r,u]=c(()=>{var i;if(!l&&o!==null)return(i=o.current)!=null?i:null;if(v.isServer)return null;let t=e==null?void 0:e.getElementById("headlessui-portal-root");if(t)return t;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return G(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),G(()=>{l||o!==null&&u(o.current)},[o,u,l]),r}let M=E,I=y(function(l,o){let{ownerDocument:r=null,...u}=l,t=L(null),a=m(S(s=>{t.current=s}),o),i=U(t),f=r!=null?r:i,p=j(f),[n]=c(()=>{var s;return v.isServer?null:(s=f==null?void 0:f.createElement("div"))!=null?s:null}),P=d(g),b=N();C(()=>{!p||!n||p.contains(n)||(n.setAttribute("data-headlessui-portal",""),p.appendChild(n))},[p,n]),C(()=>{if(n&&P)return P.register(n)},[P,n]),F(()=>{var s;!p||!n||(n instanceof Node&&p.contains(n)&&p.removeChild(n),p.childNodes.length<=0&&((s=p.parentElement)==null||s.removeChild(p)))});let h=R();return b?!p||!n?null:O(h({ourProps:{ref:a},theirProps:u,slot:{},defaultTag:M,name:"Portal"}),n):null});function J(e,l){let o=m(l),{enabled:r=!0,ownerDocument:u,...t}=e,a=R();return r?T.createElement(I,{...t,ownerDocument:u,ref:o}):a({ourProps:{ref:o},theirProps:t,slot:{},defaultTag:M,name:"Portal"})}let X=E,H=A(null);function k(e,l){let{target:o,...r}=e,t={ref:m(l)},a=R();return T.createElement(H.Provider,{value:o},a({ourProps:t,theirProps:r,defaultTag:X,name:"Popover.Group"}))}let g=A(null);function le(){let e=d(g),l=L([]),o=_(t=>(l.current.push(t),e&&e.register(t),()=>r(t))),r=_(t=>{let a=l.current.indexOf(t);a!==-1&&l.current.splice(a,1),e&&e.unregister(t)}),u=x(()=>({register:o,unregister:r,portals:l}),[o,r,l]);return[l,x(()=>function({children:a}){return T.createElement(g.Provider,{value:u},a)},[u])]}let B=y(J),D=y(k),oe=Object.assign(B,{Group:D});export{oe as Portal,D as PortalGroup,le as useNestedPortals};
+"use client";import m,{Fragment as G,createContext as x,useContext as R,useEffect as L,useMemo as _,useRef as d,useState as C}from"react";import{createPortal as W}from"react-dom";import{useEvent as v}from'../../hooks/use-event.js';import{useIsoMorphicEffect as M}from'../../hooks/use-iso-morphic-effect.js';import{useOnUnmount as j}from'../../hooks/use-on-unmount.js';import{useOwnerDocument as D}from'../../hooks/use-owner.js';import{useServerHandoffComplete as I}from'../../hooks/use-server-handoff-complete.js';import{optionalRef as J,useSyncRefs as y}from'../../hooks/use-sync-refs.js';import{usePortalRoot as X}from'../../internal/portal-force-root.js';import{env as H}from'../../utils/env.js';import{forwardRefWithAs as g,useRender as E}from'../../utils/render.js';function k(t,e){let a=X(),l=R(O),[n,o]=C(()=>{var P,s;if(!a&&l!==null)return(P=l.current)!=null?P:null;if(H.isServer)return null;let r=(s=e!=null?e:t)==null?void 0:s.getElementById("headlessui-portal-root");if(r)return r;if(t===null)return null;let f=t.createElement("div");return f.setAttribute("id","headlessui-portal-root"),(e!=null?e:t.body).appendChild(f)});return L(()=>{var r;n!==null&&!(t!=null&&t.body.contains(n))&&!(e!=null&&e.contains(n))&&((r=e!=null?e:t==null?void 0:t.body)==null||r.appendChild(n))},[n,t]),L(()=>{a||l!==null&&o(l.current)},[l,o,a]),n}let b=G,B=g(function(e,a){let{ownerDocument:l=null,refElement:n=null,...o}=e,r=d(null),f=y(J(i=>{r.current=i}),a),P=D(r),s=l!=null?l:P;const A=n==null?void 0:n.getRootNode();let u=k(s,A instanceof ShadowRoot?A:null),[p]=C(()=>{var i;return H.isServer?null:(i=s==null?void 0:s.createElement("div"))!=null?i:null}),T=R(c),F=I();M(()=>{!u||!p||u.contains(p)||(p.setAttribute("data-headlessui-portal",""),u.appendChild(p))},[u,p]),M(()=>{if(p&&T)return T.register(p)},[T,p]),j(()=>{var i;!u||!p||(p instanceof Node&&u.contains(p)&&u.removeChild(p),u.childNodes.length<=0&&((i=u.parentElement)==null||i.removeChild(u)))});let U=E();return F?!u||!p?null:W(U({ourProps:{ref:f},theirProps:o,slot:{},defaultTag:b,name:"Portal"}),p):null});function h(t,e){let a=y(e),{enabled:l=!0,ownerDocument:n,refElement:o,...r}=t,f=E();return l?m.createElement(B,{...r,ownerDocument:n,refElement:o,ref:a}):f({ourProps:{ref:a},theirProps:r,slot:{},defaultTag:b,name:"Portal"})}let q=G,O=x(null);function z(t,e){let{target:a,...l}=t,o={ref:y(e)},r=E();return m.createElement(O.Provider,{value:a},r({ourProps:o,theirProps:l,defaultTag:q,name:"Popover.Group"}))}let c=x(null);function oe(){let t=R(c),e=d([]),a=v(o=>(e.current.push(o),t&&t.register(o),()=>l(o))),l=v(o=>{let r=e.current.indexOf(o);r!==-1&&e.current.splice(r,1),t&&t.unregister(o)}),n=_(()=>({register:a,unregister:l,portals:e}),[a,l,e]);return[e,_(()=>function({children:r}){return m.createElement(c.Provider,{value:n},r)},[n])]}let K=g(h),Q=g(z),pe=Object.assign(K,{Group:Q});export{pe as Portal,Q as PortalGroup,oe as useNestedPortals};
